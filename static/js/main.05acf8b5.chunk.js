(this["webpackJsonpbrastlewark-directory"]=this["webpackJsonpbrastlewark-directory"]||[]).push([[0],{27:function(e,n,t){e.exports={gnomesList:"GnomesList_gnomesList__1BIib",gnomesWrapper:"GnomesList_gnomesWrapper__1_NFU",loading:"GnomesList_loading__3Hywp"}},28:function(e,n,t){e.exports={gnomeCard:"GnomeCard_gnomeCard__u6EOv",gnomeImage:"GnomeCard_gnomeImage__2q6tU",gnomeInfo:"GnomeCard_gnomeInfo__jCERk"}},29:function(e,n,t){e.exports={pagination:"Pagination_pagination__3K5C-",pageButton:"Pagination_pageButton__2xbtv",active:"Pagination_active__S-Btt"}},35:function(e,n,t){e.exports={notFound:"NotFound_notFound__2JdKw",notFoundWrapper:"NotFound_notFoundWrapper__2r-UR"}},36:function(e,n,t){e.exports={navBar:"NavBar_navBar__3tKgE",logo:"NavBar_logo__3kAWN"}},50:function(e,n,t){e.exports={searchBar:"SearchBar_searchBar__1hWdk"}},51:function(e,n,t){e.exports={serverError:"ServerError_serverError__1Z8Wm"}},54:function(e,n,t){e.exports={App:"App_App__15LM-"}},55:function(e,n,t){e.exports=t(93)},64:function(e,n,t){},8:function(e,n,t){e.exports={gnomeDetails:"GnomesDetails_gnomeDetails__UU4V1",gnomeDetailsWrapper:"GnomesDetails_gnomeDetailsWrapper__3rRGQ",gnomeImage:"GnomesDetails_gnomeImage__kdQcH",gnomeInfo:"GnomesDetails_gnomeInfo__3KEVZ",infoItem:"GnomesDetails_infoItem__fF8j2",friends:"GnomesDetails_friends__Gr6y_",loading:"GnomesDetails_loading__3XXq7"}},93:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(23),s=t.n(o),l=t(7),c=t(19),i=t(11),m=t(48),u=(t(64),t(12)),g=t(14),p=t(15),d=t(17),h=t(16),E=t(18),f=t(49),_=t.n(f).a.create({baseURL:"https://raw.githubusercontent.com/rrafols/mobile_test/master"}),G=function(e){return{type:"GET_ALL_GNOMES_FAIL",error:e}},v=t(27),S=t.n(v),b=t(28),N=t.n(b),O=function(e){var n=e.gnome,t=n.name.length<20?"Male":"Female",a={backgroundImage:"url(".concat(n.thumbnail,")")};return r.a.createElement("article",{className:N.a.gnomeCard},r.a.createElement("div",{className:N.a.gnomeImage,style:a}),r.a.createElement("div",{className:N.a.gnomeInfo},r.a.createElement("h3",null,n.name),r.a.createElement("p",null,t)))},y=t(25),L=t(26),T=t(50),k=t.n(T),C=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={inputSearch:""},t.handleSearch=function(e){t.setState({inputSearch:e.target.value}),t.props.onSearchChange(e.target.value.toLowerCase())},t}return Object(E.a)(n,e),Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:k.a.searchBar},r.a.createElement(y.a,{icon:L.b}),r.a.createElement("input",{type:"text",value:this.state.inputSearch,onChange:this.handleSearch,placeholder:"Search by name..."}))}}]),n}(a.Component),j=Object(i.b)((function(e){return{searchTerm:e.searchTerm}}),(function(e){return{onSearchChange:function(n){return e(function(e){return{type:"SET_SEARCH_TERM",searchTerm:e}}(n))}}}))(C),w=t(29),P=t.n(w),I=function(e){for(var n=e.cardsPerPage,t=e.totalCards,a=e.paginationHandler,o=e.currentPage,s=[],l=Math.ceil(t/n),c=1;c<=l;c++)s.push(c);return r.a.createElement("ul",{className:P.a.pagination},s.map((function(e){return r.a.createElement("li",{key:e,className:P.a.pageButton},r.a.createElement("button",{className:e===o?P.a.active:null,onClick:function(){return a(e)}},e))})))},A=t(51),B=t.n(A),F=function(){return r.a.createElement("section",{className:B.a.serverError},r.a.createElement("p",null,"Opps... There was an error while finding the gnomes. Maybe the orcs are attacking."),r.a.createElement("p",null,"Please try again later."))},D=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={displayedGnomes:[],filteredGnomes:null,cardsPerPage:30,totalGnomes:0,currentPage:1},t.handlePageChange=function(e){t.setState({currentPage:e}),t.handlePagination(e)},t.handlePagination=function(e){var n=t.state,a=n.cardsPerPage,r=n.filteredGnomes,o=e-1,s=r.slice(o,o+a);t.setState({displayedGnomes:s,totalGnomes:r.length})},t.handleGnomesFilter=function(e){var n=t.props.gnomes.filter((function(n){return n.name.toLowerCase().match(e)}));t.setState({filteredGnomes:n,currentPage:1})},t}return Object(E.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetGnomes()}},{key:"componentDidUpdate",value:function(e,n){var t=this.props,a=t.gnomes,r=t.searchTerm,o=this.state,s=o.currentPage,l=o.filteredGnomes;a!==e.gnomes&&this.setState({filteredGnomes:a}),l!==n.filteredGnomes&&this.handlePagination(s),r!==e.searchTerm&&this.handleGnomesFilter(r)}},{key:"render",value:function(){var e=this.state,n=e.displayedGnomes,t=e.filteredGnomes,a=e.cardsPerPage,o=e.currentPage,s=r.a.createElement("p",null,"This gnome doesn't live here. Please try another name...");n&&n.length&&(s=r.a.createElement("section",{className:S.a.gnomesWrapper},n.map((function(e){return r.a.createElement(l.b,{to:"/gnomes/".concat(e.id),key:e.id},r.a.createElement(O,{gnome:e}))}))));var c=r.a.createElement("div",{className:S.a.loading},r.a.createElement("img",{src:"/img/loading.gif",alt:"loading"}));return this.props.error?r.a.createElement(F,null):r.a.createElement("main",{className:S.a.gnomesList},r.a.createElement(j,null),r.a.createElement("h1",null,"Welcome to Brastlewark!"),n&&t?r.a.createElement(r.a.Fragment,null,s,r.a.createElement("nav",null,r.a.createElement(I,{totalCards:this.state.totalGnomes,cardsPerPage:a,paginationHandler:this.handlePageChange,currentPage:o}))):c)}}]),n}(a.Component),M=Object(i.b)((function(e){return{gnomes:e.gnomes,loading:e.loading,searchTerm:e.searchTerm,error:e.error}}),(function(e){return{onGetGnomes:function(){return e((function(e){return e({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(n){e({type:"GET_ALL_GNOMES",gnomes:n.data.Brastlewark})})).catch((function(n){e(G(n))}))}))}}}))(D),R=t(53),W=t.n(R),x=t(8),U=t.n(x),H=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={gnome:{},friendsList:[]},t.handleGoBack=function(){t.props.history.goBack()},t}return Object(E.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.onGetOneGnome(e)}},{key:"componentDidUpdate",value:function(e){this.props.match.params!==e.match.params&&this.props.onGetOneGnome(this.props.match.params.id),this.props.gnome.friends!==e.gnome.friends&&this.props.onGetFriendsList(this.props.gnome.friends),this.props.friendsList!==e.friendsList&&this.setState({friendsList:this.props.friendsList})}},{key:"render",value:function(){var e=this.props.gnome,n=this.state.friendsList,t={backgroundImage:"url(".concat(e.thumbnail,")")},a=r.a.createElement("small",null,"No jobs so far..."),o=r.a.createElement("small",null,"No friends to show...");e.professions&&e.professions.length&&(a=e.professions.map((function(e){var n=W.a.generate();return r.a.createElement("li",{key:n,className:U.a.infoItem},e)}))),n&&n.length&&(o=n.map((function(e){return r.a.createElement("li",{key:e.id,className:U.a.infoItem},r.a.createElement(l.b,{to:"/gnomes/".concat(e.id)},e.name))})));var s=r.a.createElement("div",{className:U.a.loading},r.a.createElement("img",{src:"/img/loading.gif",alt:"loading"}));return this.props.error?r.a.createElement("section",{className:U.a.gnomeDetails},r.a.createElement(F,null)):r.a.createElement("section",{className:U.a.gnomeDetails},r.a.createElement("h1",null,e.name),e.name?r.a.createElement("section",{className:U.a.gnomeDetailsWrapper},r.a.createElement("div",{className:U.a.gnomeImage,style:t}),r.a.createElement("section",{className:U.a.gnomeInfo},r.a.createElement("p",null,r.a.createElement("strong",null,"Race:")," Gnome"),r.a.createElement("p",null,r.a.createElement("strong",null,"Gender:")," ",e.name.length<20?"Male":"Female"),r.a.createElement("p",null,r.a.createElement("strong",null,"Age:")," ",e.age),r.a.createElement("p",null,r.a.createElement("strong",null,"Weight:")," ",e.weight.toFixed(2)," kg"),r.a.createElement("p",null,r.a.createElement("strong",null,"Height:")," ",Math.round(e.height)," cm"),r.a.createElement("p",null,r.a.createElement("strong",null,"Hair Color:")," ",e.hair_color),r.a.createElement("p",null,r.a.createElement("strong",null,"Professions:")),r.a.createElement("ul",{className:U.a.professions},a),r.a.createElement("p",null,r.a.createElement("strong",null,"Friends:")),r.a.createElement("ul",{className:U.a.friends},o))):s,r.a.createElement("button",{onClick:this.handleGoBack},r.a.createElement(y.a,{icon:L.a}),"Go Back"))}}]),n}(a.Component),K=Object(i.b)((function(e){return{gnome:e.oneGnome,loading:e.loading,friendsList:e.friendsList,error:e.error}}),(function(e){return{onGetOneGnome:function(n){return e(function(e){return function(n){return n({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(t){var a=t.data.Brastlewark.find((function(n){return n.id.toString()===e}));n({type:"GET_ONE_GNOME_SUCCESS",oneGnome:a})})).catch((function(e){n(G(e))}))}}(n))},onGetFriendsList:function(n){return e(function(e){return function(n){return n({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(t){var a=e.map((function(e){return t.data.Brastlewark.find((function(n){return n.name===e}))}));n(function(e){return{type:"GET_FRIENDS_LIST_SUCCESS",friendsList:e}}(a))})).catch((function(e){n(G(e))}))}}(n))}}}))(H),X=t(35),J=t.n(X),V=function(){return r.a.createElement("section",{className:J.a.notFound},r.a.createElement("div",{className:J.a.notFoundWrapper},r.a.createElement("img",{src:"img/gnome-character.jpg",alt:""}),r.a.createElement("div",null,r.a.createElement("h2",null,"~ 404 ~"),r.a.createElement("h3",null,"Are you lost, traveler?"),r.a.createElement("p",null,"Please try anorher route."),r.a.createElement(l.b,{to:"/"},"Go back to safety"))))},q=t(54),Q=t.n(q),Z=t(36),$=t.n(Z),z=function(){return r.a.createElement("nav",{className:$.a.navBar},r.a.createElement(l.c,{className:"test",to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"Brastlewark logo",className:$.a.logo})))};var Y=function(){return r.a.createElement("div",{className:Q.a.App},r.a.createElement(z,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/gnomes/:id",exact:!0,component:K}),r.a.createElement(u.a,{path:"/",exact:!0,component:M}),r.a.createElement(u.a,{component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=t(13),ne={gnomes:[],oneGnome:{},searchTerm:""},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_ALL_GNOMES_START":return Object(ee.a)({},e,{loading:!0});case"GET_ALL_GNOMES":return Object(ee.a)({},e,{gnomes:n.gnomes,loading:!1});case"GET_ALL_GNOMES_FAIL":return Object(ee.a)({},e,{loading:!1,error:n.error});case"GET_ONE_GNOME_SUCCESS":return Object(ee.a)({},e,{oneGnome:n.oneGnome,loading:!1});case"SET_SEARCH_TERM":return Object(ee.a)({},e,{searchTerm:n.searchTerm});case"GET_FRIENDS_LIST_SUCCESS":return Object(ee.a)({},e,{friendsList:n.friendsList});default:return e}},ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,re=Object(c.d)(te,ae(Object(c.a)(m.a)));s.a.render(r.a.createElement(i.a,{store:re},r.a.createElement(l.a,null,r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.05acf8b5.chunk.js.map