(this["webpackJsonpbrastlewark-directory"]=this["webpackJsonpbrastlewark-directory"]||[]).push([[0],{27:function(e,n,t){e.exports={gnomesList:"GnomesList_gnomesList__1BIib",gnomesWrapper:"GnomesList_gnomesWrapper__1_NFU",loading:"GnomesList_loading__3Hywp"}},28:function(e,n,t){e.exports={gnomeCard:"GnomeCard_gnomeCard__u6EOv",gnomeImage:"GnomeCard_gnomeImage__2q6tU",gnomeInfo:"GnomeCard_gnomeInfo__jCERk"}},29:function(e,n,t){e.exports={pagination:"Pagination_pagination__3K5C-",pageButton:"Pagination_pageButton__2xbtv",active:"Pagination_active__S-Btt"}},35:function(e,n,t){e.exports={notFound:"NotFound_notFound__2JdKw",notFoundWrapper:"NotFound_notFoundWrapper__2r-UR"}},36:function(e,n,t){e.exports={navBar:"NavBar_navBar__3tKgE",logo:"NavBar_logo__3kAWN"}},50:function(e,n,t){e.exports={searchBar:"SearchBar_searchBar__1hWdk"}},53:function(e,n,t){e.exports={App:"App_App__15LM-"}},54:function(e,n,t){e.exports=t(92)},63:function(e,n,t){},9:function(e,n,t){e.exports={gnomeDetails:"GnomesDetails_gnomeDetails__UU4V1",gnomeDetailsWrapper:"GnomesDetails_gnomeDetailsWrapper__3rRGQ",gnomeImage:"GnomesDetails_gnomeImage__kdQcH",gnomeInfo:"GnomesDetails_gnomeInfo__3KEVZ",infoItem:"GnomesDetails_infoItem__fF8j2",friends:"GnomesDetails_friends__Gr6y_",loading:"GnomesDetails_loading__3XXq7"}},92:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(23),s=t.n(o),c=t(6),l=t(19),i=t(11),m=t(48),u=(t(63),t(12)),g=t(14),p=t(15),d=t(17),h=t(16),f=t(18),E=t(49),_=t.n(E).a.create({baseURL:"https://raw.githubusercontent.com/rrafols/mobile_test/master"}),G=function(e){return{type:"GET_ALL_GNOMES_FAIL",error:e}},v=t(27),b=t.n(v),S=t(28),N=t.n(S),O=function(e){var n=e.gnome,t=n.name.length<20?"Male":"Female",a={backgroundImage:"url(".concat(n.thumbnail,")")};return r.a.createElement("article",{className:N.a.gnomeCard},r.a.createElement("div",{className:N.a.gnomeImage,style:a}),r.a.createElement("div",{className:N.a.gnomeInfo},r.a.createElement("h3",null,n.name),r.a.createElement("p",null,t)))},y=t(25),L=t(26),T=t(50),k=t.n(T),j=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={inputSearch:""},t.handleSearch=function(e){t.setState({inputSearch:e.target.value}),t.props.onSearchChange(e.target.value.toLowerCase())},t}return Object(f.a)(n,e),Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:k.a.searchBar},r.a.createElement(y.a,{icon:L.b}),r.a.createElement("input",{type:"text",value:this.state.inputSearch,onChange:this.handleSearch,placeholder:"Search by name..."}))}}]),n}(a.Component),C=Object(i.b)((function(e){return{searchTerm:e.searchTerm}}),(function(e){return{onSearchChange:function(n){return e(function(e){return{type:"SET_SEARCH_TERM",searchTerm:e}}(n))}}}))(j),P=t(29),w=t.n(P),I=function(e){for(var n=e.cardsPerPage,t=e.totalCards,a=e.paginationHandler,o=e.currentPage,s=[],c=Math.ceil(t/n),l=1;l<=c;l++)s.push(l);return r.a.createElement("ul",{className:w.a.pagination},s.map((function(e){return r.a.createElement("li",{key:e,className:w.a.pageButton},r.a.createElement("button",{className:e===o?w.a.active:null,onClick:function(){return a(e)}},e))})))},A=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={displayedGnomes:[],filteredGnomes:null,cardsPerPage:30,totalGnomes:0,currentPage:1},t.handlePageChange=function(e){t.setState({currentPage:e}),t.handlePagination(e)},t.handlePagination=function(e){var n=t.state,a=n.cardsPerPage,r=n.filteredGnomes,o=e-1,s=r.slice(o,o+a);t.setState({displayedGnomes:s,totalGnomes:r.length})},t.handleGnomesFilter=function(e){var n=t.props.gnomes.filter((function(n){return n.name.toLowerCase().match(e)}));t.setState({filteredGnomes:n,currentPage:1})},t}return Object(f.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetGnomes()}},{key:"componentDidUpdate",value:function(e,n){var t=this.props,a=t.gnomes,r=t.searchTerm,o=this.state,s=o.currentPage,c=o.filteredGnomes;a!==e.gnomes&&this.setState({filteredGnomes:a}),c!==n.filteredGnomes&&this.handlePagination(s),r!==e.searchTerm&&this.handleGnomesFilter(r)}},{key:"render",value:function(){var e=this.state,n=e.displayedGnomes,t=e.cardsPerPage,a=e.currentPage,o=r.a.createElement("p",null,"This gnome doesn't live here. Please try another name...");n&&n.length&&(o=n.map((function(e){return r.a.createElement(c.b,{to:"/gnomes/".concat(e.id),key:e.id},r.a.createElement(O,{gnome:e}))})));var s=r.a.createElement("div",{className:b.a.loading},r.a.createElement("img",{src:"/img/loading.gif",alt:"loading"}));return r.a.createElement("main",{className:b.a.gnomesList},r.a.createElement(C,null),r.a.createElement("h1",null,"Welcome to Brastlewark!"),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:b.a.gnomesWrapper},o),r.a.createElement("nav",null,r.a.createElement(I,{totalCards:this.state.totalGnomes,cardsPerPage:t,paginationHandler:this.handlePageChange,currentPage:a}))):s)}}]),n}(a.Component),B=Object(i.b)((function(e){return{gnomes:e.gnomes,loading:e.loading,searchTerm:e.searchTerm}}),(function(e){return{onGetGnomes:function(){return e((function(e){e({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(n){e({type:"GET_ALL_GNOMES",gnomes:n.data.Brastlewark})})).catch((function(n){e(G(n))}))}))}}}))(A),F=t(52),D=t.n(F),M=t(9),R=t.n(M),W=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(r)))).state={gnome:{},friendsList:[]},t.handleGoBack=function(){t.props.history.goBack()},t}return Object(f.a)(n,e),Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.onGetOneGnome(e)}},{key:"componentDidUpdate",value:function(e){this.props.match.params!==e.match.params&&this.props.onGetOneGnome(this.props.match.params.id),this.props.gnome.friends!==e.gnome.friends&&this.props.onGetFriendsList(this.props.gnome.friends),this.props.friendsList!==e.friendsList&&this.setState({friendsList:this.props.friendsList})}},{key:"render",value:function(){var e=this.props.gnome,n=this.state.friendsList,t={backgroundImage:"url(".concat(e.thumbnail,")")},a=r.a.createElement("small",null,"No jobs so far..."),o=r.a.createElement("small",null,"No friends to show...");e.professions&&e.professions.length&&(a=e.professions.map((function(e){var n=D.a.generate();return r.a.createElement("li",{key:n,className:R.a.infoItem},e)}))),n&&n.length&&(o=n.map((function(e){return r.a.createElement("li",{key:e.id,className:R.a.infoItem},r.a.createElement(c.b,{to:"/gnomes/".concat(e.id)},e.name))})));var s=r.a.createElement("div",{className:R.a.loading},r.a.createElement("img",{src:"/img/loading.gif",alt:"loading"}));return r.a.createElement("section",{className:R.a.gnomeDetails},r.a.createElement("h1",null,e.name),e.name?r.a.createElement("section",{className:R.a.gnomeDetailsWrapper},r.a.createElement("div",{className:R.a.gnomeImage,style:t}),r.a.createElement("section",{className:R.a.gnomeInfo},r.a.createElement("p",null,r.a.createElement("strong",null,"Race:")," Gnome"),r.a.createElement("p",null,r.a.createElement("strong",null,"Gender:")," ",e.name.length<20?"Male":"Female"),r.a.createElement("p",null,r.a.createElement("strong",null,"Age:")," ",e.age),r.a.createElement("p",null,r.a.createElement("strong",null,"Weight:")," ",e.weight.toFixed(2)," kg"),r.a.createElement("p",null,r.a.createElement("strong",null,"Height:")," ",Math.round(e.height)," cm"),r.a.createElement("p",null,r.a.createElement("strong",null,"Hair Color:")," ",e.hair_color),r.a.createElement("p",null,r.a.createElement("strong",null,"Professions:")),r.a.createElement("ul",{className:R.a.professions},a),r.a.createElement("p",null,r.a.createElement("strong",null,"Friends:")),r.a.createElement("ul",{className:R.a.friends},o))):s,r.a.createElement("button",{onClick:this.handleGoBack},r.a.createElement(y.a,{icon:L.a}),"Go Back"))}}]),n}(a.Component),x=Object(i.b)((function(e){return{gnome:e.oneGnome,loading:e.loading,friendsList:e.friendsList}}),(function(e){return{onGetOneGnome:function(n){return e(function(e){return function(n){n({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(t){var a=t.data.Brastlewark.find((function(n){return n.id.toString()===e}));n({type:"GET_ONE_GNOME_SUCCESS",oneGnome:a})})).catch((function(e){n(G(e))}))}}(n))},onGetFriendsList:function(n){return e(function(e){return function(n){n({type:"GET_ALL_GNOMES_START"}),_.get("/data.json").then((function(t){var a=e.map((function(e){return t.data.Brastlewark.find((function(n){return n.name===e}))}));n(function(e){return{type:"GET_FRIENDS_LIST_SUCCESS",friendsList:e}}(a))})).catch((function(e){n(G(e))}))}}(n))}}}))(W),U=t(35),H=t.n(U),K=function(e){return r.a.createElement("section",{className:H.a.notFound},r.a.createElement("div",{className:H.a.notFoundWrapper},r.a.createElement("img",{src:"img/gnome-character.jpg",alt:""}),r.a.createElement("div",null,r.a.createElement("h2",null,"~ 404 ~"),r.a.createElement("h3",null,"Are you lost, traveler?"),r.a.createElement("p",null,"Please try anorher route."),r.a.createElement(c.b,{to:"/"},"Go back to safety"))))},X=t(53),J=t.n(X),V=t(36),q=t.n(V),Q=Object(u.f)((function(){return r.a.createElement("nav",{className:q.a.navBar},r.a.createElement(c.c,{to:"/"},r.a.createElement("img",{src:"/img/logo.png",alt:"Brastlewark logo",className:q.a.logo})))}));var Z=function(){return r.a.createElement("div",{className:J.a.App},r.a.createElement(Q,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/gnomes/:id",exact:!0,component:x}),r.a.createElement(u.a,{path:"/",exact:!0,component:B}),r.a.createElement(u.a,{component:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=t(13),z={gnomes:[],oneGnome:{},searchTerm:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_ALL_GNOMES_START":return Object($.a)({},e,{loading:!0});case"GET_ALL_GNOMES":return Object($.a)({},e,{gnomes:n.gnomes,loading:!1});case"GET_ALL_GNOMES_FAIL":return Object($.a)({},e,{loading:!1});case"GET_ONE_GNOME_SUCCESS":return Object($.a)({},e,{oneGnome:n.oneGnome,loading:!1});case"SET_SEARCH_TERM":return Object($.a)({},e,{searchTerm:n.searchTerm});case"GET_FRIENDS_LIST_SUCCESS":return Object($.a)({},e,{friendsList:n.friendsList});default:return e}},ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,ne=Object(l.d)(Y,ee(Object(l.a)(m.a)));s.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(c.a,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.c92727ce.chunk.js.map